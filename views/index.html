<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>경북의 전통주 소믈리에 테스트</title>
    <link rel="stylesheet" href="/public/css/style.css" />
    <link rel="stylesheet" href="/public/css/base.css" />
  </head>
  <body>
    <section class="hero">
      <div class="container">
        <!-- 고정된 로고와 문구 -->
        <div class="fixed-content">
          <div class="main_logo">
            <img src="/public/img/logo_white.png" alt="로고" />
          </div>
          <h1>경북의 전통주를 맛보다!</h1>
          <p>한 잔에 담긴 경북의 시간, 당신의 취향을 찾아 떠나는 여정</p>
          <div class="scroll-down">⌄</div>
        </div>

        <!-- 슬라이드 영역 -->
        <div class="slider">
          <div class="slides">
            <!-- 클론: 마지막 슬라이드와 같음 -->
            <div class="slide clone">
              <div class="bg-wrapper">
                <img src="/public/img/mainF.png" class="bg" alt="경주별맥" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char2.png" class="char" alt="경주별맥" />
            </div>

            <!-- 실제 슬라이드 -->
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainA.jpg" class="bg" alt="불로막걸리" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char1.png" class="char" alt="불로막걸리" />
            </div>
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainB.jpg" class="bg" alt="경주법주" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char3.png" class="char" alt="경주법주" />
            </div>
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainC.jpg" class="bg" alt="청도감와인" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char5.png" class="char" alt="청도감와인" />
            </div>
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainD.jpg" class="bg" alt="안동소주" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char4.png" class="char" alt="안동소주" />
            </div>
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainE.png" class="bg" alt="풍정사계춘" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char6.png" class="char" alt="풍정사계춘" />
            </div>
            <div class="slide">
              <div class="bg-wrapper">
                <img src="/public/img/mainF.png" class="bg" alt="경주별맥" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char2.png" class="char" alt="경주별맥" />
            </div>

            <!-- 클론: 첫 슬라이드와 같음 -->
            <div class="slide clone">
              <div class="bg-wrapper">
                <img src="/public/img/mainA.jpg" class="bg" alt="불로막걸리" />
                <div class="overlay"></div>
              </div>
              <img src="/public/img/char1.png" class="char" alt="불로막걸리" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="wrap">
      <section class="intro">
        <div class="container">
          <h2>소믈리에 테스트</h2>

          <div class="intro-body">
            <div class="intro-right">
              <img src="/public/img/preview.png" alt="미리보기" />
            </div>

            <div class="intro-left">
              <p class="intro-text">
                전통 방식으로 빚은<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;다양한 전통주를 알아보고,<br /><br />
                나에게 어울리는 술은 무엇인지<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 간단한 테스트도
                해보세요.<br /><br />
                테스트 후 알림톡으로<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;결과를 받아보실 수 있어요.
              </p>
              <!-- <p>
              전통방식으로 빚은 다양한<br />
              전통주를 알아보고<br />
              나에게 맞는 술도 찾아보자!
            </p> -->
              <!-- <div class="sugar-level">Q. 원하는 당도는?</div> -->
            </div>
          </div>

          <div class="btn-wrapper"></div>
        </div>
      </section>

      <section class="question-preview">
        <div class="card">
          <div class="container">
            <button onclick="location.href='/survey'" class="btn-start">
              테스트 시작하기
            </button>
            <p class="starts">나에게 맞는 전통주에 대한 테스트~</p>
            <div class="question-image">
              <img src="/public/img/question.png" alt="질문" />
            </div>
            <!-- <div class="question">Q. 당신이 선호하는 술의 도수는?</div>
        <div class="question-title">술 도수 취향</div>
      
        <div class="options">
          <div class="option">1. 도수가 낮고 마시기 편한 술</div>
          <div class="option">2. 도수가 높고 진한 풍미의 술</div>
        </div> -->
          </div>
        </div>
      </section>

      <section class="introduce">
        <div class="container">
          <h2>경북 전통주 소개</h2>
          <div class="slider-container">
            <div class="slider-track">
              <div class="item">
                <a href="result/resultF">
                  <img src="/public/img/drink2.png" alt="별맥" />
                  <p>경주 별맥</p>
                </a>
              </div>
              <div class="item center">
                <a href="result/resultA">
                  <img src="/public/img/drink3.png" alt="불로막걸리" />
                  <p>대구 불로막걸리</p>
                </a>
              </div>
              <div class="item">
                <a href="result/resultB">
                  <img src="/public/img/drink1.png" alt="법주" />
                  <p>경주 법주</p>
                </a>
              </div>
              <div class="item">
                <a href="result/resultC">
                  <img src="/public/img/drink4.png" alt="감와인" />
                  <p>청도 감와인</p>
                </a>
              </div>
              <div class="item">
                <a href="result/resultD">
                  <img src="/public/img/drink5.png" alt="소주" />
                  <p>안동 소주</p>
                </a>
              </div>
              <div class="item">
                <a href="result/resultE">
                  <img src="/public/img/drink6.png" alt="풍정사계춘" />
                  <p>문경 풍정사계춘</p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <footer>
        <div class="footer-container">
          <div class="footer-left">
            <img src="/public/img/logo.png" alt="로고" class="logo" />
            <div class="copyright">
              술빛담<br />
              대구광역시 동구 화랑로 525<br />
              Copyright ⓒ 2025 by SULBITDAM. All right reserved
            </div>
          </div>
          <div class="social-icons">
            <a href=""
              ><img src="/public/img/icon_youtube.png" alt="유튜브"
            /></a>
            <a href=""
              ><img src="/public/img/icon_github.png" alt="깃허브"
            /></a>
          </div>
        </div>
      </footer>
    </div>
    <script>
      const slides = document.querySelector(".slides");
      const slideList = document.querySelectorAll(".slide");
      const slideCount = slideList.length;
      let currentIndex = 1;
      const duration = 1000;
      let allowShift = true;

      // 초기 위치 설정 (첫 슬라이드가 실제 첫 번째니까 index=1)
      slides.style.transform = `translateX(-${100 * currentIndex}%)`;

      function moveTo(index, animated = true) {
        if (animated) {
          slides.style.transition = `transform ${duration}ms ease`;
        } else {
          slides.style.transition = "none";
        }
        slides.style.transform = `translateX(-${100 * index}%)`;
        currentIndex = index;
      }

      function nextSlide() {
        if (!allowShift) return;
        allowShift = false;

        moveTo(currentIndex + 1);

        setTimeout(() => {
          // 클론 마지막 → 진짜 첫 번째로 점프
          if (currentIndex === slideCount - 1) {
            moveTo(1, false);
          }
          allowShift = true;
        }, duration);
      }

      setInterval(nextSlide, 5000);
    </script>

    <!-- 전통주 슬라이더 -->
    <script>
      const track = document.querySelector(".slider-track");
      let items = Array.from(track.children);

      function getItemWidth() {
        const item = track.querySelector(".item");
        const style = window.getComputedStyle(track);
        const gap = parseInt(style.columnGap || style.gap || 0);
        return item.offsetWidth + gap;
      }

      function applyCenterClass() {
        items.forEach((el) => el.classList.remove("center"));
        if (items[1]) items[1].classList.add("center");
      }

      function moveSlider() {
        const itemWidth = getItemWidth();

        // 먼저 center 클래스 적용 (슬라이드 이동과 동시에 커짐)
        const nextCenterIndex = 2 % items.length;
        items.forEach((el) => el.classList.remove("center"));
        if (items[nextCenterIndex])
          items[nextCenterIndex].classList.add("center");

        // 슬라이더 이동
        track.style.transition = "transform 0.5s ease";
        track.style.transform = `translateX(-${itemWidth}px)`;

        // 이동 후 DOM 재배치
        setTimeout(() => {
          const first = items.shift();
          track.appendChild(first);

          track.style.transition = "none";
          track.style.transform = `translateX(0)`;

          items.push(first);
        }, 500);
      }
      window.addEventListener("load", () => {
        applyCenterClass();
        setInterval(moveSlider, 2500);
      });

      window.addEventListener("resize", () => {
        track.style.transition = "none";
        track.style.transform = `translateX(0)`;
      });
    </script>
  </body>
</html>
