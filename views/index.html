<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>경북의 전통주 소믈리에 테스트</title>
    <link rel="stylesheet" href="/public/css/style.css" />
  </head>
  <body>
    <section class="hero">
      <div class="container">
        <div class="row row-top">
          <img src="/public/img/char1.png" alt="캐릭터1" class="char char1" />
          <div class="logo">
            <img src="/public/img/logo.png" alt="로고" />
          </div>
          <img src="/public/img/char2.png" alt="캐릭터2" class="char char2" />
        </div>

        <div class="row row-middle">
          <img src="/public/img/char3.png" alt="캐릭터3" class="char char3" />
          <h1>경북의 전통주를 맛보다!</h1>
          <img src="/public/img/char4.png" alt="캐릭터4" class="char char4" />
        </div>

        <div class="row row-bottom">
          <img src="/public/img/char5.png" alt="캐릭터5" class="char char5" />
          <div class="spacer"></div>
          <img src="/public/img/char6.png" alt="캐릭터6" class="char char6" />
        </div>

        <div class="mobile-header">
          <div class="mobile-logo">
            <img src="/public/img/logo.png" alt="로고" />
          </div>
          <h1 class="mobile-title">경북의 전통주를 맛보다!</h1>
        </div>
        <div class="characters-mobile">
          <img src="/public/img/char1.png" alt="캐릭터1" />
          <img src="/public/img/char2.png" alt="캐릭터2" />
          <img src="/public/img/char3.png" alt="캐릭터3" />
          <img src="/public/img/char4.png" alt="캐릭터4" />
          <img src="/public/img/char5.png" alt="캐릭터5" />
          <img src="/public/img/char6.png" alt="캐릭터6" />
        </div>

        <div class="scroll-down">⌄</div>
      </div>
    </section>

    <section class="intro">
      <div class="container">
        <h2>소믈리에 테스트</h2>

        <div class="intro-body">
          <div class="intro-right">
            <img src="/public/img/preview.png" alt="미리보기" />
          </div>

          <div class="intro-left">
            <p>
              전통방식으로 빚은 다양한<br />
              전통주를 알아보고<br />
              나에게 맞는 술도 찾아보자!
            </p>
            <!-- <div class="sugar-level">Q. 원하는 당도는?</div> -->
          </div>
        </div>

        <div class="btn-wrapper"></div>
      </div>
    </section>

    <section class="question-preview">
      <div class="card">
        <div class="container">
          <button onclick="location.href='/survey'" class="btn-start">
            테스트 시작하기
          </button>
          <div class="question-image">
            <img src="/public/img/question.png" alt="질문" />
          </div>
          <!-- <div class="question">Q. 당신이 선호하는 술의 도수는?</div>
        <div class="question-title">술 도수 취향</div>
      
        <div class="options">
          <div class="option">1. 도수가 낮고 마시기 편한 술</div>
          <div class="option">2. 도수가 높고 진한 풍미의 술</div>
        </div> -->
        </div>
      </div>
    </section>

    <section class="introduce">
      <div class="container">
        <h2>경북 전통주 소개</h2>
        <div class="slider-container">
          <div class="slider-track">
            <div class="item">
              <img src="/public/img/drink2.png" alt="별맥" />
              <p>경주 별맥</p>
            </div>
            <div class="item center">
              <img src="/public/img/drink3.png" alt="불로막걸리" />
              <p>대구 불로막걸리</p>
            </div>
            <div class="item">
              <img src="/public/img/drink1.png" alt="법주" />
              <p>경주 법주</p>
            </div>
            <div class="item">
              <img src="/public/img/drink4.png" alt="감와인" />
              <p>청도 감와인</p>
            </div>
            <div class="item">
              <img src="/public/img/drink5.png" alt="소주" />
              <p>안동 소주</p>
            </div>
            <div class="item">
              <img src="/public/img/drink6.png" alt="풍정사계춘" />
              <p>문경 풍정사계춘</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="footer-container">
        <div class="footer-left">
          <img src="/public/img/logo.png" alt="로고" class="logo" />
          <div class="copyright">
            술빛담<br />
            대구광역시 동구 화랑로 525<br />
            Copyright ⓒ 2025 by SULBITDAM. All right reserved
          </div>
        </div>
        <div class="social-icons">
          <a href=""><img src="/public/img/icon_youtube.png" alt="유튜브" /></a>
          <a href=""><img src="/public/img/icon_github.png" alt="깃허브" /></a>
        </div>
      </div>
    </footer>

    <!-- 전통주 슬라이더 -->
    <script>
      const track = document.querySelector(".slider-track");
      const items = Array.from(track.children);
      const visibleCount = 3;
      const itemWidth = 250 + 50; // 이미지 너비 + 간격
      let index = 0;

      // 복제 요소 삽입 (처음 몇 개 복제해서 끝에 붙임)
      const clones = items
        .slice(0, visibleCount)
        .map((item) => item.cloneNode(true));
      clones.forEach((clone) => track.appendChild(clone));

      const totalItems = items.length + clones.length;

      function updateSlider() {
        const translateX = -itemWidth * index;
        track.style.transition = "transform 0.5s ease";
        track.style.transform = `translateX(${translateX}px)`;

        // center 클래스 적용
        const trueIndex = index % items.length;
        const centerIdx = (trueIndex + 1) % items.length;

        track
          .querySelectorAll(".item")
          .forEach((el) => el.classList.remove("center"));
        const currentItems = track.querySelectorAll(".item");
        if (currentItems[index + 1]) {
          currentItems[index + 1].classList.add("center");
        }
      }

      function resetSlider() {
        // 순간적으로 원래 위치로 복귀
        track.style.transition = "none";
        index = 0;
        track.style.transform = `translateX(0px)`;

        // 다시 애니메이션 적용
        setTimeout(() => {
          track.style.transition = "transform 0.5s ease";
          index++;
          updateSlider();
        }, 50);
      }

      // 초기 적용
      updateSlider();

      // 인터벌 실행
      setInterval(() => {
        index++;
        if (index > items.length) {
          resetSlider(); // 복제된 마지막 슬라이드까지 갔을 때 리셋
        } else {
          updateSlider();
        }
      }, 2500);
    </script>
  </body>
</html>
